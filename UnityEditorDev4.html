<!DOCTYPE html>





<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8">
<meta name="generator" content="Hexo 3.9.0">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.3.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.3.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Lobster:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.3.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    save_scroll: true,
    copycode: {"enable":true,"show_result":true,"style":"flat"},
    fancybox: false,
    mediumzoom: true,
    lazyload: false,
    pangu: false,
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>

  <meta name="description" content="OverviewWe’ve covered some basic concepts required in Unity editor extension, and this time, we are going make a real custom editor with some practical functionalities. If you are not familiar with th">
<meta name="keywords" content="Unity,Unity Editor">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity Editor Scripting#4 - A Real Custom Editor">
<meta property="og:url" content="http://PokhoOfSCUT.github.io/UnityEditorDev4.html">
<meta property="og:site_name" content="Rhys&#39;s">
<meta property="og:description" content="OverviewWe’ve covered some basic concepts required in Unity editor extension, and this time, we are going make a real custom editor with some practical functionalities. If you are not familiar with th">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://ww1.yunjiexi.club/2019/08/05/66699ab9584a7ab428271062b190b96b.gif">
<meta property="og:updated_time" content="2019-10-30T05:25:54.266Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Unity Editor Scripting#4 - A Real Custom Editor">
<meta name="twitter:description" content="OverviewWe’ve covered some basic concepts required in Unity editor extension, and this time, we are going make a real custom editor with some practical functionalities. If you are not familiar with th">
<meta name="twitter:image" content="https://ww1.yunjiexi.club/2019/08/05/66699ab9584a7ab428271062b190b96b.gif">
  <link rel="canonical" href="http://PokhoOfSCUT.github.io/UnityEditorDev4">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Unity Editor Scripting#4 - A Real Custom Editor | Rhys's</title>
  








  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  <div class="container sidebar-position-left">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Rhys's</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Welcome to Rhys's</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-schedule">
      
    

    <a href="/schedule/" rel="section"><i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>Schedule</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-sitemap">
      
    

    <a href="/sitemap.xml" rel="section"><i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>Sitemap</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content page-post-detail">
            

  <div id="posts" class="posts-expand">
    
    <div class="reading-progress-bar"></div>

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://PokhoOfSCUT.github.io/UnityEditorDev4.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Rhys Chen">
      <meta itemprop="description" content="Do my best, so I cannot blame myself for anything.">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Rhys's">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">Unity Editor Scripting#4 - A Real Custom Editor

            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2019-08-05 17:33:00" itemprop="dateCreated datePublished" datetime="2019-08-05T17:33:00+08:00">2019-08-05</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-10-30 13:25:54" itemprop="dateModified" datetime="2019-10-30T13:25:54+08:00">2019-10-30</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Unity/" itemprop="url" rel="index"><span itemprop="name">Unity</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Unity/Unity-Editor/" itemprop="url" rel="index"><span itemprop="name">Unity Editor</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>We’ve covered some basic concepts required in Unity editor extension, and this time, we are going make a real custom editor with some practical functionalities. If you are not familiar with the concepts yet, you are free to check them out in the previous chapters. And make sure you do some coding while reading, because this just helps you better understand.</p>
<a id="more"></a>

<hr>
<p>&nbsp;</p>
<h2 id="Get-Start"><a href="#Get-Start" class="headerlink" title="Get Start"></a>Get Start</h2><h3 id="Create-A-Editor-Window"><a href="#Create-A-Editor-Window" class="headerlink" title="Create A Editor Window"></a>Create A Editor Window</h3><p>When you create a window, do not forget:</p>
<ol>
<li>Use <code>UnityEditor</code> namespace, because the class must derive from <code>EditorWindow</code>.</li>
<li>Window display function has to be static.</li>
<li>Use <code>MenuItem</code> to make sure you can open the window in the toolbar.</li>
</ol>
<pre class=" language-cpp"><code class="language-cpp">
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExampleWindow</span> <span class="token operator">:</span> EditorWindow
<span class="token punctuation">{</span>

    <span class="token punctuation">[</span><span class="token function">MenuItem</span><span class="token punctuation">(</span><span class="token string">"Window/Example Window"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">static</span> <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ShowWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        EditorWindow<span class="token punctuation">.</span><span class="token function">GetWindow</span><span class="token punctuation">(</span><span class="token function">typeof</span><span class="token punctuation">(</span>ExampleWindow<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">"Example"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
<p>&nbsp;</p>
<h3 id="Primitive-Spawn"><a href="#Primitive-Spawn" class="headerlink" title="Primitive Spawn"></a>Primitive Spawn</h3><p>This function allows us to create a primitive in edit mode with custom position and material color. First, we should define some variables:</p>
<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">enum</span> Primitive
<span class="token punctuation">{</span>
    CUBE <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    SPHERE <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    PLANE <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">bool</span> primitiveHeader <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// State of the header control</span>
<span class="token keyword">private</span> string primitiveString <span class="token operator">=</span> <span class="token string">"Primitive Spawn"</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// Header display string</span>
<span class="token keyword">private</span> Primitive primitive<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// EnumPopup control</span>
<span class="token keyword">private</span> <span class="token keyword">float</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// X component of the spawning position</span>
<span class="token keyword">private</span> <span class="token keyword">float</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// Y component of the spawning position</span>
<span class="token keyword">private</span> <span class="token keyword">float</span> z <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// Z component of the spawning position</span>
<span class="token keyword">private</span> Color primitiveColor <span class="token operator">=</span> Color<span class="token punctuation">.</span>white<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// Custom default color</span></code></pre>
<p>Then, we can start drawing UI items:</p>
<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">OnGUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    primitiveHeader <span class="token operator">=</span> EditorGUILayout<span class="token punctuation">.</span><span class="token function">BeginFoldoutHeaderGroup</span><span class="token punctuation">(</span>primitiveHeader<span class="token punctuation">,</span> primitiveString<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>primitiveHeader<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        EditorGUI<span class="token punctuation">.</span>indentLevel <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

        primitive <span class="token operator">=</span> <span class="token punctuation">(</span>Primitive<span class="token punctuation">)</span>EditorGUILayout<span class="token punctuation">.</span><span class="token function">EnumPopup</span><span class="token punctuation">(</span><span class="token string">"Primitive: "</span><span class="token punctuation">,</span> primitive<span class="token punctuation">)</span><span class="token punctuation">;</span>

        x <span class="token operator">=</span> EditorGUILayout<span class="token punctuation">.</span><span class="token function">FloatField</span><span class="token punctuation">(</span><span class="token string">"X "</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        y <span class="token operator">=</span> EditorGUILayout<span class="token punctuation">.</span><span class="token function">FloatField</span><span class="token punctuation">(</span><span class="token string">"Y "</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        z <span class="token operator">=</span> EditorGUILayout<span class="token punctuation">.</span><span class="token function">FloatField</span><span class="token punctuation">(</span><span class="token string">"Z "</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>

        primitiveColor <span class="token operator">=</span> EditorGUILayout<span class="token punctuation">.</span><span class="token function">ColorField</span><span class="token punctuation">(</span><span class="token string">"Color "</span><span class="token punctuation">,</span> primitiveColor<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>GUILayout<span class="token punctuation">.</span><span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Create"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Vector3 spawnPoint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Vector3</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">CreatePrimitive</span><span class="token punctuation">(</span>primitive<span class="token punctuation">,</span> spawnPoint<span class="token punctuation">,</span> primitiveColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        EditorGUI<span class="token punctuation">.</span>indentLevel <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    EditorGUILayout<span class="token punctuation">.</span><span class="token function">EndFoldoutHeaderGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<blockquote>
<p>Notice:<br>Since your custom editor can be very versatile and massive, it is always a good practice to keep your functionality-processing code out of the <code>OnGUI</code> to be an independent function. This will help make the <code>OnGUI</code> stay as simple as possible.</p>
</blockquote>
<p>Now, we can finish the spawning function:</p>
<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">CreatePrimitive</span><span class="token punctuation">(</span>Primitive primitive<span class="token punctuation">,</span> Vector3 point<span class="token punctuation">,</span> Color color<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>primitive<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">case</span> Primitive<span class="token punctuation">.</span>CUBE<span class="token operator">:</span>
            GameObject cube <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token function">CreatePrimitive</span><span class="token punctuation">(</span>PrimitiveType<span class="token punctuation">.</span>Cube<span class="token punctuation">)</span><span class="token punctuation">;</span>
            cube<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position <span class="token operator">=</span> point<span class="token punctuation">;</span>
            cube<span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>MeshRenderer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sharedMaterial<span class="token punctuation">.</span>color <span class="token operator">=</span> primitiveColor<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> Primitive<span class="token punctuation">.</span>SPHERE<span class="token operator">:</span>
            GameObject sphere <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token function">CreatePrimitive</span><span class="token punctuation">(</span>PrimitiveType<span class="token punctuation">.</span>Sphere<span class="token punctuation">)</span><span class="token punctuation">;</span>
            sphere<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position <span class="token operator">=</span> point<span class="token punctuation">;</span>
            sphere<span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>MeshRenderer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sharedMaterial<span class="token punctuation">.</span>color <span class="token operator">=</span> primitiveColor<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> Primitive<span class="token punctuation">.</span>PLANE<span class="token operator">:</span>
            GameObject plane <span class="token operator">=</span> GameObject<span class="token punctuation">.</span><span class="token function">CreatePrimitive</span><span class="token punctuation">(</span>PrimitiveType<span class="token punctuation">.</span>Plane<span class="token punctuation">)</span><span class="token punctuation">;</span>
            plane<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position <span class="token operator">=</span> point<span class="token punctuation">;</span>
            plane<span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>MeshRenderer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sharedMaterial<span class="token punctuation">.</span>color <span class="token operator">=</span> primitiveColor<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            Debug<span class="token punctuation">.</span><span class="token function">LogError</span><span class="token punctuation">(</span><span class="token string">"Unrecognized Option"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>&nbsp;</p>
<h3 id="Add-Modifier-Functionality"><a href="#Add-Modifier-Functionality" class="headerlink" title="Add Modifier Functionality"></a>Add Modifier Functionality</h3><p>By adding this kind of functionality, we can adjust our present primitives.</p>
<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">private</span> <span class="token keyword">bool</span> modifierHeader <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> string modifierString <span class="token operator">=</span> <span class="token string">"Primitive Modify"</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> Color modifierColor <span class="token operator">=</span> Color<span class="token punctuation">.</span>white<span class="token punctuation">;</span>
</code></pre>
<p>We also use <code>FoldoutHeader</code> to organize all our modifying options just like above:</p>
<pre class=" language-cpp"><code class="language-cpp">modifierHeader <span class="token operator">=</span> EditorGUILayout<span class="token punctuation">.</span><span class="token function">BeginFoldoutHeaderGroup</span><span class="token punctuation">(</span>modifierHeader<span class="token punctuation">,</span> modifierString<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span>modifierHeader<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    EditorGUI<span class="token punctuation">.</span>indentLevel <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

    modifierColor <span class="token operator">=</span> EditorGUILayout<span class="token punctuation">.</span><span class="token function">ColorField</span><span class="token punctuation">(</span><span class="token string">"Color"</span><span class="token punctuation">,</span> modifierColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>GUILayout<span class="token punctuation">.</span><span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Change Color"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">ChangeColor</span><span class="token punctuation">(</span>modifierColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>GUILayout<span class="token punctuation">.</span><span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Reset"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">Reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>GUILayout<span class="token punctuation">.</span><span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Destroy"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">DestroyPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>GUILayout<span class="token punctuation">.</span><span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Destroy All"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">DestroyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    EditorGUI<span class="token punctuation">.</span>indentLevel <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
EditorGUILayout<span class="token punctuation">.</span><span class="token function">EndFoldoutHeaderGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Finish the unitity functions:</p>
<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ChangeColor</span><span class="token punctuation">(</span>Color color<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>Selection<span class="token punctuation">.</span>activeGameObject<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Selection<span class="token punctuation">.</span>activeGameObject<span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>MeshRenderer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>material<span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        Debug<span class="token punctuation">.</span><span class="token function">LogWarning</span><span class="token punctuation">(</span><span class="token string">"Select first!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">Reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Selection<span class="token punctuation">.</span>activeGameObject<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Selection<span class="token punctuation">.</span>activeGameObject<span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>MeshRenderer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>material<span class="token punctuation">.</span>color <span class="token operator">=</span> Color<span class="token punctuation">.</span>white<span class="token punctuation">;</span>
        Selection<span class="token punctuation">.</span>activeGameObject<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>position <span class="token operator">=</span> Vector3<span class="token punctuation">.</span>zero<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        Debug<span class="token punctuation">.</span><span class="token function">LogWarning</span><span class="token punctuation">(</span><span class="token string">"Select first!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">DestroyPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Selection<span class="token punctuation">.</span>activeGameObject<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        GameObject<span class="token punctuation">.</span><span class="token function">DestroyImmediate</span><span class="token punctuation">(</span>Selection<span class="token punctuation">.</span>activeGameObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        Debug<span class="token punctuation">.</span><span class="token function">LogWarning</span><span class="token punctuation">(</span><span class="token string">"Select first!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">DestroyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    var objects <span class="token operator">=</span> Resources<span class="token punctuation">.</span><span class="token function">FindObjectsOfTypeAll</span><span class="token punctuation">(</span><span class="token function">typeof</span><span class="token punctuation">(</span>GameObject<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Selection<span class="token punctuation">.</span>objects <span class="token operator">=</span> objects<span class="token punctuation">;</span>
    var all <span class="token operator">=</span> Selection<span class="token punctuation">.</span><span class="token function">GetTransforms</span><span class="token punctuation">(</span>SelectionMode<span class="token punctuation">.</span>Editable <span class="token operator">|</span> SelectionMode<span class="token punctuation">.</span>ExcludePrefab<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">foreach</span><span class="token punctuation">(</span>var item in all<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>gameObject<span class="token punctuation">.</span>GetComponent<span class="token operator">&lt;</span>MeshRenderer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> null<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            GameObject<span class="token punctuation">.</span><span class="token function">DestroyImmediate</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>gameObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<hr>
<p>&nbsp;</p>
<h2 id="Demonstration"><a href="#Demonstration" class="headerlink" title="Demonstration"></a>Demonstration</h2><p><img src="https://ww1.yunjiexi.club/2019/08/05/66699ab9584a7ab428271062b190b96b.gif" alt></p>
<hr>
<p>&nbsp;</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>We’ve done an easy but great work! And what you have to know is that Unity editor extension is much more than this. When you start being involved, you may feel like lost and do not know what to do with that. It’s just fine, because you cannot create a custom editor just for a custom editor, you have to figure out what your game project needs. </p>

    </div>

    
    
    
        
      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/Unity/" rel="tag"><i class="fa fa-tag"></i> Unity</a>
            
              <a href="/tags/Unity-Editor/" rel="tag"><i class="fa fa-tag"></i> Unity Editor</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/UnityEditorDev3.html" rel="next" title="Unity Editor Scripting#3 - Editor UI Groups">
                  <i class="fa fa-chevron-left"></i> Unity Editor Scripting#3 - Editor UI Groups
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/DataStructureJourney3.html" rel="prev" title="Data Structure Review#3 - Binary Tree 1 of 4">
                  Data Structure Review#3 - Binary Tree 1 of 4 <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">

          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Rhys Chen</p>
  <div class="site-description motion-element" itemprop="description">Do my best, so I cannot blame myself for anything.</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">categories</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span>
        
      </div>
    
  </nav>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/PokhoOfSCUT" title="GitHub &rarr; https://github.com/PokhoOfSCUT" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="mailto:xkxkxhxh1@outlook.com" title="E-Mail &rarr; mailto:xkxkxhxh1@outlook.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
    
  </div>



        </div>
      </div>
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Overview"><span class="nav-number">1.</span> <span class="nav-text">Overview</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Get-Start"><span class="nav-number">2.</span> <span class="nav-text">Get Start</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Create-A-Editor-Window"><span class="nav-number">2.1.</span> <span class="nav-text">Create A Editor Window</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Primitive-Spawn"><span class="nav-number">2.2.</span> <span class="nav-text">Primitive Spawn</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Add-Modifier-Functionality"><span class="nav-number">2.3.</span> <span class="nav-text">Add Modifier Functionality</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Demonstration"><span class="nav-number">3.</span> <span class="nav-text">Demonstration</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Conclusion"><span class="nav-number">4.</span> <span class="nav-text">Conclusion</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Rhys Chen</span>
</div>

        








        
      </div>
    </footer>
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>

    

  </div>

  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="/lib/mediumzoom/medium-zoom.min.js"></script>
  <script src="/lib/reading_progress/reading_progress.js"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

<script src="/js/utils.js?v=7.3.0"></script>
  <script src="/js/motion.js?v=7.3.0"></script>


  <script src="/js/affix.js?v=7.3.0"></script>
  <script src="/js/schemes/pisces.js?v=7.3.0"></script>


<script src="/js/next-boot.js?v=7.3.0"></script>




  




























  

  
    
      <script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', function() {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    
  

  

  


  
  <script src="/js/scrollspy.js?v=7.3.0"></script>
<script src="/js/post-details.js?v=7.3.0"></script>


</body>
</html>
