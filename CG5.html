<!DOCTYPE html>





<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8">
<meta name="generator" content="Hexo 3.9.0">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.3.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.3.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Lobster:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.3.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    save_scroll: true,
    copycode: {"enable":true,"show_result":true,"style":"flat"},
    fancybox: false,
    mediumzoom: true,
    lazyload: false,
    pangu: false,
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>

  <meta name="description" content="Last time, we’ve gone through some basic components of a simple offline ray tracing renderer. In this chapter, we will be digging further to make the renderer fancier, which additionally includes diel">
<meta name="keywords" content="Computer Graphics,OpenGL">
<meta property="og:type" content="article">
<meta property="og:title" content="Computer Graphics Review#3 - Ray Tracing In One Weekend 2 of 2">
<meta property="og:url" content="http://PokhoOfSCUT.github.io/CG5.html">
<meta property="og:site_name" content="Rhys&#39;s">
<meta property="og:description" content="Last time, we’ve gone through some basic components of a simple offline ray tracing renderer. In this chapter, we will be digging further to make the renderer fancier, which additionally includes diel">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://ww1.yunjiexi.club/2019/11/12/72bea7c25c50caeda1169b79a91f1547.png">
<meta property="og:image" content="https://i.postimg.cc/y8FcJQZS/Camera.png">
<meta property="og:image" content="https://i.postimg.cc/zXsQG82q/camera.png">
<meta property="og:updated_time" content="2019-11-12T12:37:24.387Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Computer Graphics Review#3 - Ray Tracing In One Weekend 2 of 2">
<meta name="twitter:description" content="Last time, we’ve gone through some basic components of a simple offline ray tracing renderer. In this chapter, we will be digging further to make the renderer fancier, which additionally includes diel">
<meta name="twitter:image" content="https://ww1.yunjiexi.club/2019/11/12/72bea7c25c50caeda1169b79a91f1547.png">
  <link rel="canonical" href="http://PokhoOfSCUT.github.io/CG5">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Computer Graphics Review#3 - Ray Tracing In One Weekend 2 of 2 | Rhys's</title>
  








  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  <div class="container sidebar-position-left">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Rhys's</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Welcome to Rhys's</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-schedule">
      
    

    <a href="/schedule/" rel="section"><i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>Schedule</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-sitemap">
      
    

    <a href="/sitemap.xml" rel="section"><i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>Sitemap</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content page-post-detail">
            

  <div id="posts" class="posts-expand">
    
    <div class="reading-progress-bar"></div>

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://PokhoOfSCUT.github.io/CG5.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Rhys Chen">
      <meta itemprop="description" content="Do my best, so I cannot blame myself for anything.">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Rhys's">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">Computer Graphics Review#3 - Ray Tracing In One Weekend 2 of 2

            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2019-11-12 15:16:01 / Modified: 20:37:24" itemprop="dateCreated datePublished" datetime="2019-11-12T15:16:01+08:00">2019-11-12</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Computer-Graphics/" itemprop="url" rel="index"><span itemprop="name">Computer Graphics</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>Last time, we’ve gone through some basic components of a simple offline ray tracing renderer. In this chapter, we will be digging further to make the renderer fancier, which additionally includes dielectric material and a positionable camera.<a id="more"></a></p>
<hr>
<h2 id="How-To-Do"><a href="#How-To-Do" class="headerlink" title="How To Do"></a>How To Do</h2><p>In the previous chapter, the two materials, diffuse and metal, only deal with reflection. For the dielectric material, the situation is more complicated because it involves refraction. To better understand, we are going to dig a little bit into some physical issues.</p>
<h3 id="Refraction"><a href="#Refraction" class="headerlink" title="Refraction"></a>Refraction</h3><p>Dielectric is a physical material, in which electric current is poorly conducted. In another word, it is a electrical insulator. The properties of dielectric is not we are going to talk about. What we are really instrested in here is the refraction phenomenon brought about by a typical dielectric, the glass.</p>
<p>To some extent, refraction is a bit like reflection, they are both a kind of light ray bending. The difference is that the refraction won’t abruptly change the direction of the ray. So, if refraction happened when a ray hit a surface, the ray would continue to go into the material instead of being reflected back. Basically, refraction is that light bends when it travels from one material to another.</p>
<p>To trace the ray, we have to know how the ray bends. The <code>Snell&#39;s Law</code> offeres us the answer.</p>
<p><img src="https://ww1.yunjiexi.club/2019/11/12/72bea7c25c50caeda1169b79a91f1547.png" alt></p>
<p>The mathematical formula form is:</p>
<p>$$n\sin\theta = n’\sin\theta’ $$</p>
<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">bool</span> <span class="token function">refract</span><span class="token punctuation">(</span><span class="token keyword">const</span> vec3<span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">const</span> vec3<span class="token operator">&amp;</span> n<span class="token punctuation">,</span> <span class="token keyword">float</span> ni_over_nt<span class="token punctuation">,</span> vec3<span class="token operator">&amp;</span> refracted<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// normalize the incident ray vector</span>
    vec3 uv <span class="token operator">=</span> <span class="token function">unit_vector</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// value of cosθ</span>
    <span class="token keyword">float</span> dt <span class="token operator">=</span> <span class="token function">dot</span><span class="token punctuation">(</span>uv<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// value of square of cosθ'</span>
    <span class="token keyword">float</span> discriminant <span class="token operator">=</span> <span class="token number">1.0f</span> <span class="token operator">-</span> ni_over_nt <span class="token operator">*</span> ni_over_nt <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> dt <span class="token operator">*</span> dt<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// incident ray comes obliquely and refraction takes place</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>discriminant <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// direction of the refracted ray</span>
        refracted <span class="token operator">=</span> ni_over_nt <span class="token operator">*</span> <span class="token punctuation">(</span>v <span class="token operator">-</span> n <span class="token operator">*</span> dt<span class="token punctuation">)</span> <span class="token operator">-</span> n <span class="token operator">*</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>discriminant<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">// incident ray comes perpendicularly thus no refraction</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Mentioned in previous chapter of <code>BRDF</code>, we have to take into account the fresnel while processing reflection. The Schilck approximation is what we are going to use.</p>
<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">float</span> <span class="token function">schilck</span><span class="token punctuation">(</span><span class="token keyword">float</span> cosine<span class="token punctuation">,</span> <span class="token keyword">float</span> ref_idx<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">float</span> r0 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> ref_idx<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> ref_idx<span class="token punctuation">)</span><span class="token punctuation">;</span>
    r0 <span class="token operator">=</span> r0 <span class="token operator">*</span> r0<span class="token punctuation">;</span>
    <span class="token keyword">return</span> r0 <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> r0<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> cosine<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">virtual</span> <span class="token keyword">bool</span> <span class="token function">scatter</span><span class="token punctuation">(</span><span class="token keyword">const</span> ray<span class="token operator">&amp;</span> r_in<span class="token punctuation">,</span> <span class="token keyword">const</span> hit_record<span class="token operator">&amp;</span> rec<span class="token punctuation">,</span> vec3<span class="token operator">&amp;</span> attenution<span class="token punctuation">,</span> ray<span class="token operator">&amp;</span> scattered<span class="token punctuation">)</span> <span class="token keyword">const</span>
<span class="token punctuation">{</span>
    vec3 outward_normal<span class="token punctuation">;</span>
    vec3 reflected <span class="token operator">=</span> <span class="token function">reflect</span><span class="token punctuation">(</span>r_in<span class="token punctuation">.</span><span class="token function">direction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rec<span class="token punctuation">.</span>normal<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">float</span> ni_over_nt<span class="token punctuation">;</span>
    attenution <span class="token operator">=</span> <span class="token function">vec3</span><span class="token punctuation">(</span><span class="token number">1.0f</span><span class="token punctuation">,</span> <span class="token number">1.0f</span><span class="token punctuation">,</span> <span class="token number">1.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    vec3 refracted<span class="token punctuation">;</span>
    <span class="token keyword">float</span> reflect_prob<span class="token punctuation">;</span>
    <span class="token keyword">float</span> cosine<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">dot</span><span class="token punctuation">(</span>r_in<span class="token punctuation">.</span><span class="token function">direction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rec<span class="token punctuation">.</span>normal<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        outward_normal <span class="token operator">=</span> <span class="token operator">-</span>rec<span class="token punctuation">.</span>normal<span class="token punctuation">;</span>
        ni_over_nt <span class="token operator">=</span> ref_idx<span class="token punctuation">;</span>
        cosine <span class="token operator">=</span> ref_idx <span class="token operator">*</span> <span class="token function">dot</span><span class="token punctuation">(</span>r_in<span class="token punctuation">.</span><span class="token function">direction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rec<span class="token punctuation">.</span>normal<span class="token punctuation">)</span> <span class="token operator">/</span> r_in<span class="token punctuation">.</span><span class="token function">direction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        outward_normal <span class="token operator">=</span> rec<span class="token punctuation">.</span>normal<span class="token punctuation">;</span>
        ni_over_nt <span class="token operator">=</span> <span class="token number">1.0f</span> <span class="token operator">/</span> ref_idx<span class="token punctuation">;</span>
        cosine <span class="token operator">=</span> <span class="token operator">-</span><span class="token function">dot</span><span class="token punctuation">(</span>r_in<span class="token punctuation">.</span><span class="token function">direction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rec<span class="token punctuation">.</span>normal<span class="token punctuation">)</span> <span class="token operator">/</span> r_in<span class="token punctuation">.</span><span class="token function">direction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">refract</span><span class="token punctuation">(</span>r_in<span class="token punctuation">.</span><span class="token function">direction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> outward_normal<span class="token punctuation">,</span> ni_over_nt<span class="token punctuation">,</span> refracted<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        reflect_prob <span class="token operator">=</span> <span class="token function">schlick</span><span class="token punctuation">(</span>cosine<span class="token punctuation">,</span> ref_idx<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        scattered <span class="token operator">=</span> <span class="token function">ray</span><span class="token punctuation">(</span>rec<span class="token punctuation">.</span>p<span class="token punctuation">,</span> reflected<span class="token punctuation">)</span><span class="token punctuation">;</span>
        reflect_prob <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10000</span> <span class="token operator">/</span> <span class="token number">10000.0</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> reflect_prob<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        scattered <span class="token operator">=</span> <span class="token function">ray</span><span class="token punctuation">(</span>rec<span class="token punctuation">.</span>p<span class="token punctuation">,</span> reflected<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        scattered <span class="token operator">=</span> <span class="token function">ray</span><span class="token punctuation">(</span>rec<span class="token punctuation">.</span>p<span class="token punctuation">,</span> refracted<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="Positionable-Camera"><a href="#Positionable-Camera" class="headerlink" title="Positionable Camera"></a>Positionable Camera</h3><p><img src="https://i.postimg.cc/y8FcJQZS/Camera.png" alt></p>
<p>It is not that difficult to create a positionable camera, you just have to do some vector calculations.</p>
<pre class=" language-cpp"><code class="language-cpp">    <span class="token function">camera</span><span class="token punctuation">(</span>vec3 lookfrom<span class="token punctuation">,</span> vec3 lookat<span class="token punctuation">,</span> vec3 vup<span class="token punctuation">,</span> <span class="token keyword">float</span> vfov<span class="token punctuation">,</span> <span class="token keyword">float</span> aspect<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        vec3 u<span class="token punctuation">,</span> v<span class="token punctuation">,</span> w<span class="token punctuation">;</span>
        <span class="token keyword">float</span> theta <span class="token operator">=</span> vfov <span class="token operator">*</span> M_PI <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">;</span>
        <span class="token keyword">float</span> half_height <span class="token operator">=</span> <span class="token function">tan</span><span class="token punctuation">(</span>theta <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">float</span> half_width <span class="token operator">=</span> aspect <span class="token operator">*</span> half_height<span class="token punctuation">;</span>

        origin <span class="token operator">=</span> lookfrom<span class="token punctuation">;</span>
        w <span class="token operator">=</span> <span class="token function">unit_vector</span><span class="token punctuation">(</span>lookfrom <span class="token operator">-</span> lookat<span class="token punctuation">)</span><span class="token punctuation">;</span>
        u <span class="token operator">=</span> <span class="token function">unit_vector</span><span class="token punctuation">(</span><span class="token function">cross</span><span class="token punctuation">(</span>vup<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        v <span class="token operator">=</span> <span class="token function">cross</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>
        lower_left_corner <span class="token operator">=</span> <span class="token function">vec3</span><span class="token punctuation">(</span><span class="token operator">-</span>half_width<span class="token punctuation">,</span> <span class="token operator">-</span>half_height<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        lower_left_corner <span class="token operator">=</span> origin <span class="token operator">-</span> half_width <span class="token operator">*</span> u <span class="token operator">-</span> half_height <span class="token operator">*</span> v <span class="token operator">-</span> w<span class="token punctuation">;</span>
        horizontal <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> half_width <span class="token operator">*</span> u<span class="token punctuation">;</span>
        vertical <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> half_height <span class="token operator">*</span> v<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<hr>
<p>&nbsp;</p>
<h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><p>Look at the beautiful scene!</p>
<p><img src="https://i.postimg.cc/zXsQG82q/camera.png" alt></p>
<hr>
<p>&nbsp;</p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>I don’t intend to make a complete tutorial because I’m also a learner. I highly recommend you to read the origianl book because, as I said before, it is a very practical book to get you into the ray tracing world. You may find out that this book is easy but don’t worry. This book is just one of the trilogy of ray tracing wrote by the same author. You can continuously read another two to learn something much more complicated. Hope you have fun and embrace the joy of ray tracing.</p>
<hr>
<p>&nbsp;</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1] Ray Tracing In One Weekend - Peter Shirley</p>

    </div>

    
    
    
        
      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/Computer-Graphics/" rel="tag"><i class="fa fa-tag"></i> Computer Graphics</a>
            
              <a href="/tags/OpenGL/" rel="tag"><i class="fa fa-tag"></i> OpenGL</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/CG4-RayTracing.html" rel="next" title="Computer Graphics Review#3 - Ray Tracing In One Weekend 1 of 2">
                  <i class="fa fa-chevron-left"></i> Computer Graphics Review#3 - Ray Tracing In One Weekend 1 of 2
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/UnityComputeShader1.html" rel="prev" title="Unity Compute Shader#1 - Overview">
                  Unity Compute Shader#1 - Overview <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">

          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Rhys Chen</p>
  <div class="site-description motion-element" itemprop="description">Do my best, so I cannot blame myself for anything.</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span>
        
      </div>
    
  </nav>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/PokhoOfSCUT" title="GitHub &rarr; https://github.com/PokhoOfSCUT" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="mailto:xkxkxhxh1@outlook.com" title="E-Mail &rarr; mailto:xkxkxhxh1@outlook.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
    
  </div>



        </div>
      </div>
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#How-To-Do"><span class="nav-number">1.</span> <span class="nav-text">How To Do</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Refraction"><span class="nav-number">1.1.</span> <span class="nav-text">Refraction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Positionable-Camera"><span class="nav-number">1.2.</span> <span class="nav-text">Positionable Camera</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Demo"><span class="nav-number">2.</span> <span class="nav-text">Demo</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#End"><span class="nav-number">3.</span> <span class="nav-text">End</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">4.</span> <span class="nav-text">Reference</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Rhys Chen</span>
</div>

        








        
      </div>
    </footer>
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>

    

  </div>

  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="/lib/mediumzoom/medium-zoom.min.js"></script>
  <script src="/lib/reading_progress/reading_progress.js"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

<script src="/js/utils.js?v=7.3.0"></script>
  <script src="/js/motion.js?v=7.3.0"></script>


  <script src="/js/affix.js?v=7.3.0"></script>
  <script src="/js/schemes/pisces.js?v=7.3.0"></script>


<script src="/js/next-boot.js?v=7.3.0"></script>




  




























  

  
    
      <script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', function() {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    
  

  

  


  
  <script src="/js/scrollspy.js?v=7.3.0"></script>
<script src="/js/post-details.js?v=7.3.0"></script>


</body>
</html>
