<!DOCTYPE HTML>
<html lang="">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Computer Graphics Review#2 - Lighting 1 of 2, Rhys&#39;s">
    <meta name="description" content="How We Perceive ColorsPhysically, lights propagate in media as the form of waves. This is supported by the Young’s Doubl">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Computer Graphics Review#2 - Lighting 1 of 2 | Rhys&#39;s</title>
    <link rel="icon" type="image/png" href="/logo1.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
        code[class*="language-"], pre[class*="language-"] {
            white-space: pre !important;
        }
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>

<header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/avatar2.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Rhys's</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>Home</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>Categories</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>Archives</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>About</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="Search"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/avatar2.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Rhys's</div>
        <div class="logo-desc">
            
            Do my best, so I cannot blame myself for anything.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                Home
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                Categories
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                Archives
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                About
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/PokhoOfSCUT" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/PokhoOfSCUT" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>





<div class="bg-cover pd-header post-cover" style="background-image: url('https://ww1.yunjiexi.club/2019/07/27/nrWej.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        Computer Graphics Review#2 - Lighting 1 of 2
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Computer-Graphics/" target="_blank">
                                <span class="chip bg-color">Computer Graphics</span>
                            </a>
                        
                            <a href="/tags/OpenGL/" target="_blank">
                                <span class="chip bg-color">OpenGL</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/OpenGL/" class="post-category" target="_blank">
                                OpenGL
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2019-08-19
                </div>

                
                    
                    <div class="info-break-policy">
                        <i class="fa fa-file-word-o fa-fw"></i>Word Count:&nbsp;&nbsp;
                        949
                    </div>
                    

                    
                    <div class="info-break-policy">
                        <i class="fa fa-clock-o fa-fw"></i>Read Times:&nbsp;&nbsp;
                        5 Min
                    </div>
                    
                
				
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="How-We-Perceive-Colors"><a href="#How-We-Perceive-Colors" class="headerlink" title="How We Perceive Colors"></a>How We Perceive Colors</h2><p>Physically, lights propagate in media as the form of waves. This is supported by the <strong>Young’s Double-Slit Interference Experiment</strong>.</p>
<blockquote>
<p>For more information, you can check it out <a href="https://opentextbc.ca/physicstestbook2/chapter/youngs-double-slit-experiment/" target="_blank" rel="noopener">here</a></p>
</blockquote>
<p>As waves, they have unique wavelengths. The lights we can see with naked eyes, the visible lights, have wavelengths within the range from $380\ nm$ to $780\ nm$.</p>
<p><img src="https://ww1.yunjiexi.club/2019/08/19/88594962adbb74e75bd95a40b5bafe09.jpg" alt></p>
<p>An opaque object can reflect and absorb lights of specific wavelengths. Simply, if it reflects green lights, wavelengths of around $500\ nm$, and absorb any other lights, the object looks greenish. Similarly, a red object reflects most of the red lights and absorbs other lights. More specially, a white object reflects all visible lights while a black one absorb most of them.</p>
<p>&nbsp;</p>
<h3 id="Light-Source"><a href="#Light-Source" class="headerlink" title="Light Source"></a>Light Source</h3><p>Lights don’t just come from nowhere, they are generated by light sources, like the sun or light bulbs. In a rendering system, we regard a light source as a single point without volume. And we use different vectors to present different light directions.</p>
<p>&nbsp;</p>
<h3 id="Scattering-and-Absorption"><a href="#Scattering-and-Absorption" class="headerlink" title="Scattering and Absorption"></a>Scattering and Absorption</h3><p>When a light ray hit an object, scattering and absorption happen.</p>
<p>Scatter only changes the light’s direction whil absorption only has its impact on light’s density and color. When a light ray is scattered, it breaks into two parts: one is scattered outward, which is called <strong>reflection</strong>, the other is scattered inward which is called <strong>refraction</strong>. For an opaque object, the refracted light ray will bounce between the molecules inside the object and go out in another place. This kind of emergent light ray holds different direction and color to the incident light ray.</p>
<p>To distinguish these two emergent light rays, we use different method to simulate them in a lighting model. We use <strong>Specular</strong> to indicate how an object reflects light, and use <strong>Diffuse</strong> to how many lights are refracted and rescattered out of the object.</p>
<p>&nbsp;</p>
<h3 id="Shading"><a href="#Shading" class="headerlink" title="Shading"></a>Shading</h3><p>Shading is to figure out the <strong>exitance</strong> in a specific viewing direction with an euqation based on material properties and lighting information. The equation is also called <strong>Lighting Model</strong>.</p>
<hr>
<p>&nbsp;</p>
<h2 id="Standard-Lighting-Model"><a href="#Standard-Lighting-Model" class="headerlink" title="Standard Lighting Model"></a>Standard Lighting Model</h2><p>In a standard lighting model which is nonphysical, we take 4 ingredients that contribute to shading. <strong>Emissive</strong>, <strong>Diffuse</strong>, <strong>Specular</strong>, and <strong>Ambient</strong>.</p>
<ul>
<li><p>Emissive: indicates how many lights this object itself will emit in a given direction. Notice that without GI, this kind of emissive lights won’t shed any lights on the environment. It just makes itself look glowing.</p>
</li>
<li><p>Ambient: simulates the indirect lights, and it is constant for simplicity.</p>
</li>
</ul>
<p>&nbsp;</p>
<h3 id="Lambert-Lighting-Model"><a href="#Lambert-Lighting-Model" class="headerlink" title="Lambert Lighting Model"></a>Lambert Lighting Model</h3><p>Lambert lighting model is a simple and common way to simulate diffuse color of a rough surface. It is experience-based, depending on the fragment normal and the light direction.</p>
<p>$$ Diffuse = k_d \times Color \times LightColor \times max(0,\ \vec N \cdot \vec V_{light}) $$</p>
<p>The $k_d$ is a constant describing the object’s diffuse property.</p>
<p>$$ Ambient = k_d \times AmbientColor $$</p>
<p>And the final lamber lighting model is:</p>
<p>$$ Diffuse + Ambient $$</p>
<p>&nbsp;</p>
<h3 id="Half-Lambert-Lighting-Model"><a href="#Half-Lambert-Lighting-Model" class="headerlink" title="Half Lambert Lighting Model"></a>Half Lambert Lighting Model</h3><p>Half lambert lighting is innovated by Valve Corporation when they were developing game <strong>Half Life</strong>. In a dark environment where the diffuse light is weak or the diffuse light is hard to reach, the dot product can be negative. And with the $max$ operation, the dot product remains 0, which means the object’s diffuse color is very dark.</p>
<p>It is absolutely bad for a game, making player hard to see things in the dark. So Valve substituted a new equation for the former one:</p>
<p>$$ Diffuse = k_d \times Color \times LightColor \times ((\vec N \cdot \vec V_{light}) \times 0.5 + 0.5) $$</p>
<p>It maps the dot product onto $[0,\ 1]$ instead of $[-1,\ 1]$, and successfully solves the problem.</p>
<p>&nbsp;</p>
<h3 id="Phong-Lighting-Model"><a href="#Phong-Lighting-Model" class="headerlink" title="Phong Lighting Model"></a>Phong Lighting Model</h3><p>For a piece of paper or a wood log in a simple project, lambert or half lambert can be a good choice which is simple and effcient. However, when it comes to metalls, glasses, or any other reflecting material, they start to be unreal. Because these materials shows specular effects in some ways. If you’d ever observed some materials’ reflections, you would have seen an area filled with intensive white light which makes you hard to see the object’s original color. And that area changes as you change the direction you look at it.</p>
<p>So, we can tell that the specular highlight not only has something to do with the reflected light, but also the viewing direction.</p>
<p><img src="https://ww1.yunjiexi.club/2019/08/19/f9526b2dd82e4777f9af3e99af423fc7.png" alt title="From LearnOpenGL.com"></p>
<p>$$ \vec R = 2 \times (\vec V_{light} \cdot \vec N) \times \vec N - \vec V_{light} $$</p>
<p>$$ Specular = k_s \times LightColor \times max(0,\ (\vec R \cdot \vec V_{view}))^{Shininess} $$</p>
<p>The $k_s$ is a constant describing the material’s specular property. The $Shininess$, also called $Glossiness$, indicates how shiny the object is or how smooth the object is.</p>
<p>Finally, the phong lighting model is like:</p>
<p>$$ Ambient + Diffuse + Specular $$</p>
<blockquote>
<p>Inplementing the phong lighting model in a vertex shader is called gourand shading.</p>
</blockquote>
<p>&nbsp;</p>
<h3 id="Blinn-Phong-Lighting-Model"><a href="#Blinn-Phong-Lighting-Model" class="headerlink" title="Blinn-Phong Lighting Model"></a>Blinn-Phong Lighting Model</h3><p>Blinn proposed an alternative for specular to avoid calculating reflected vector, which is more efficient. He introduced a new vector called <strong>halfway vector</strong>:</p>
<p>$$ \vec h = \frac{\vec V_{view} + \vec V_{light}}{|\vec V_{view} + \vec V_{light}|} $$</p>
<p>$$ Specular = k_s \times LightColor \times max(0,\ (\vec h \cdot \vec N))^{Shininess} $$</p>
<p>Now we’ve finished the standard lighting model!</p>
<hr>
<p>&nbsp;</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>We went through some concepts and basic lighting models. They are not complicated, but really good for us to learn about how we simulate a light phenomenon in a rendering system. Next time we will be talking about PBR, physically-based rendering, which is also called PBS, physically-base shading. It is very sophisticated so we have to extract it out. See you!</p>
<hr>
<p>&nbsp;</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1] <a href="https://learnopengl.com" target="_blank" rel="noopener">LearnOpenGL</a></p>
<p>[2] <a href="https://opentextbc.ca/physicstestbook2/chapter/youngs-double-slit-experiment" target="_blank" rel="noopener">Young’s Double-Slit Interference</a></p>

            </div>
            <hr/>

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone, qq, weibo, douban"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            


        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-dot-circle-o"></i>&nbsp;Current
            </div>
            <div class="card">
                <a href="/CG2-Lighting.html">
                    <div class="card-image">
                        
                        <img src="https://ww1.yunjiexi.club/2019/07/27/nrWej.jpg" class="responsive-img" alt="Computer Graphics Review#2 - Lighting 1 of 2">
                        
                        <span class="card-title">Computer Graphics Review#2 - Lighting 1 of 2</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Computer graphics is a sub-field of computer science which focuses on visual contents. Here we mainly refer to the 3D aspect, and discard 2D aspect like image processing, etc.
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2019-08-19
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/OpenGL/" class="post-category" target="_blank">
                                    OpenGL
                                </a>
                            
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Computer-Graphics/" target="_blank">
                        <span class="chip bg-color">Computer Graphics</span>
                    </a>
                    
                    <a href="/tags/OpenGL/" target="_blank">
                        <span class="chip bg-color">OpenGL</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/UnityShaderDev2.html">
                    <div class="card-image">
                        
                        <img src="https://ww1.yunjiexi.club/2019/07/30/nRzLN.png" class="responsive-img" alt="Unity Surface Shader#2 - Create First Shader">
                        
                        <span class="card-title">Unity Surface Shader#2 - Create First Shader</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            In Unity, a shader determines how an object, to which this shader is attached, would be rendered. And we are going to talk about how to create our own custom shaders.
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2019-08-19
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Unity/" class="post-category" target="_blank">
                                    Unity
                                </a>
                            
                            <a href="/categories/Unity/Unity-Shader/" class="post-category" target="_blank">
                                    Unity Shader
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Unity/" target="_blank">
                        <span class="chip bg-color">Unity</span>
                    </a>
                    
                    <a href="/tags/Unity-Shader/" target="_blank">
                        <span class="chip bg-color">Unity Shader</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>

<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy;<a href="https://github.com/PokhoOfSCUT" target="_blank">Rhys Chen</a>.

           
                &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
                <span class="white-color">11.1k</span>
            

            
			
        </div>
        <div class="col s12 m4 l4 social-link ">
    <a href="https://github.com/PokhoOfSCUT" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:xkxkxhxh1@outlook.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=787802624" class="tooltipped" data-tooltip="QQ联系我: 787802624" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>


</div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


<script src="/libs/materialize/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->



    <script src="/libs/others/clicklove.js"></script>



</body>
</html>